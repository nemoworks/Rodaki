# rodaki

### Rodaki

Rodaki来自希腊语Rodáki，意思是轮子。你搜索Rodaki的话会发现它是是波兰南部一个村庄的名字，但这不是本项目名字的来源。本项目是关于轮子的项目，你懂的。



### 数据

数据是事实或观察的结果，是对客观事物的逻辑归纳，是用于表示客观事物的未经加工的原始素材（该定义来自百度百科）。

有很多不断送来的轮子的数据，例如：

|交易流水号                                 |交易编码 |所属分中心 |所属中心 |逻辑日期           |班次 |批次号                                          |上班时间            |压线圈时间           |操作员工号     |操作员姓名  |班长工号      |班长名称   |授权时间            |车道程序版本号 |入口车道类型 |入口站号   |入口车道号 |入口站HEX编码 |入口车道HEX编码  |入口站号(国标)       |入口车道号(国标)             |入口时间            |通行介质类型 |OBU单/双片标识 |OBU发行方标识         |OBU编号            |厂商编号 |过车数量 |交易前余额（分）   |卡面扣费金额 |ETC卡类型 |ETC/CPC卡网络号 |ETC/CPC卡号?  |卡盒编号 |卡箱卡数 |ETC/CPC卡物理序列号 |通行卡数 |感应车流 |车牌号     |车牌颜色 |识别车牌号   |识别车牌颜色 |收费车型 |车种 |TAC码     |交易类型 |终端机编号        |入口重量  |轴组信息 |限载总重(kg) |超限率 |入口轴数 |电量  |PSAM卡脱机交易序号 |标记状态 |对交易的文字解释 |参数版本        |卡片发行版本 |按键数量 |按键信息                                                                                                                                                                                          |部特情类型 |车道特情状态                                                                                                                                                                                                                                                           |业务分析特情状态                                                                                                                                                                                                                                                         |车牌识别流水号                               |通行标识ID      |校验码                              |OBU 物 理 地址 |OBU 合 同 序列号      |消费密钥版本号 |行驶方向 |站级接收时间          |校检标志 |传输标识 |备注 |接收时间            |备用字段1 |备用字段2 |备用字段3 |备用字段4 |备用字段5 |校验通过时间          |车辆识别标识 |OBU发行版本 |作业媒介 |计费模式|
|--------------------------------------|-----|------|-----|---------------|---|---------------------------------------------|----------------|----------------|----------|-------|----------|-------|----------------|--------|-------|-------|------|---------|-----------|---------------|----------------------|----------------|-------|----------|-----------------|-----------------|-----|-----|-----------|-------|-------|------------|------------|-----|-----|--------------|-----|-----|--------|-----|--------|-------|-----|---|---------|-----|-------------|------|-----|---------|----|-----|----|------------|-----|---------|------------|-------|-----|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|------------|---------------------------------|-----------|-----------------|--------|-----|----------------|-----|-----|---|----------------|------|------|------|------|------|----------------|-------|--------|-----|----|
|G251637004003010100102020061613000320 |101  |2401  |24   |2020/6/16 0:00 |10 |G2516370040030101001020200616080004999999999 |2020/6/16 8:00  |2020/6/16 13:00 |999999999 |ETC操作员 |999999999 |ETC操作员 |2020/6/16 13:00 |3.3.8.8 |1      |240103 |81    |37013013 |3701301351 |G2516370040030 |G25163700400301010010 |2020/6/16 13:00 |1      |2         |bad3b1b100010001 |1.30102E+15      |1    |1    |4193969799 |0      |2      |1301        |1.51123E+15 |0    |0    |0             |0    |1    |冀X12345 |0    |默A00000 |9      |1    |0  |3AB94374 |9    |01370000f0c3 |0     |0    |0        |0   |2    |0   |000e08ca    |1    |0        |2.3719E+195 |16     |0    |                                                                                                                                                                                              |      |0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 |0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 |                                      |1.13012E+34 |71DAEBAB6EDE4AD315040B6E4EDF40D0 |1632150901 |1.30102E+15      |1       |1    |2020/6/16 13:02 |0    |0    |   |2020/6/16 13:02 |      |      |      |1     |      |2020/6/16 13:02 |0xff   |1       |1    |1   |


这个数据条目表示有一辆（假的）车牌为`冀X12345`的车从一个收费站进入高速公路行驶，该条数据在收费员给车辆驾驶话发放通行卡并抬杆准入时由收费员所操作的计算机系统产生，并通过网络传输存储。生成、传输并存储这条数据当前的目的是为了记录下车辆进入高速开始一次通行过程，并在该次通行结束在出口站由收费员回收通行卡时根据进入是的数据记录决定通行费用。

当前如何准确收费是我们关系的重点，但计算机系统不断产生的这样的收费用数据中其实还隐藏着大量信息。每一条数据都是在某一个时间点对一个局部区域的“状态快照”。例如前面的示例数据等同于为某个高速收费站某条车道在2020年6月16日下午一点左右拍摄的一张照片，照片中能看到当时那条车道、那辆车、那张通行卡、那位收费员等各个实体在那个时刻的状态。这样的照片在不同的地方不断拍摄着。

从这些海量的状态快照中我们可以看到除了该怎么收费之外更多的信息。如果选取跟这辆车相关的快照，相当于跟随这辆车一路开，我们能看到他经过一个个门架（门架上真的有摄像机能拍影像照片，也有跟通行卡通信的机制拍下与前面那条数据类似的状态快照），直到车下高速驶离出口。当下次该车辆再次进入高速行驶时我们又可以看到它。我们也可以选取某个收费站的车道的快照，相当于我们驻守在这条车道边观察坐在收费亭和不断进入的车辆，我们可以看到收费员不断轮换，看到每个收费员的收费动作，看到当前车道车辆的疏密。如果你会用unity之类的工具，你甚至可以用这些状态快照做出一部动画片来，让数据动起来。

当你用发展的动态的眼光去看待这些数据时，你就会获得更多的信息，例如：

-  车辆在高速上行驶路线、行驶速度、可能进入的收费站（若某一段内时速明显降低）
-  车道的繁忙周期、过此车道的车辆类型特征
-  收费员效率、收费员上班规律（甚至收费员排班表）

当你把全局所有状态快照放在一起看，那可能得到更有意思的结论：

- 某些车辆的车速与同类型车存在明显差异
- 某些车辆每次都去固定休息站
- 某些车道比其他车道明显空闲或繁忙
- 某些车与某些收费员遇上太过频繁明显不“偶然”
- 某些车与另一些车在某个休息站巧遇太过频繁明显不“偶然”


Rodaki项目希望用这些状态快照为你拍出一部动画片，从动画片中你可以看到高速上发生的事实，当然我们并不会使用unity，我们使用“数字孪生”技术。用眼睛看一部覆盖了一个省范围的高速动画片也是无聊而费劲的，所以我们也会使用一些算法来自动发掘哪些有意思的结论，供你去细品。




### 业务对象模型

![业务对象模型](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/nemoworks/rodaki/master/docs/uml/model-v3.pu)


![部署架构](http://www.plantuml.com/plantuml/proxy?cache=no&src=https://raw.githubusercontent.com/nemoworks/rodaki/master/docs/uml/deployment.pu)